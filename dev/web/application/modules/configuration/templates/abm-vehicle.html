{% extends "base.html" %}
{% block body_content %}
	<div class="container">
		<div class="navbar navbar">
	 		<div class="navbar-inner">
 				<div class="nav-collapse collapse navbar-inverse-collapse">
 					<form class="navbar-search pull-right" action="">
 						<input class="search-query span2" type="text" placeholder="Search"></input>
 					</form>
 					<ul class="nav pull-right">
						<li class="dropdown">
							<a class="dropdown-toggle" data-toggle="dropdown" href="#"> <i class="icon-wrench"></i> Settings <b class="caret"></b>
							<ul class="dropdown-menu">
								<li>
									<a href="#">Action 1</a>
								</li>
								<li>
									<a href="#">Action 2</a>
								</li>
								<li>
									<a href="#">Action 3</a>
								</li>
								<li>
									<a href="#"> <i class="icon-user"></i> My Account</a>
								</li>
							</ul>
						</li>
 					</ul>
 				</div>
	 		</div>
	    </div>
	</div>
	<div class="container">
		<div class="container-fluid">
		    <div class="row-fluid">
			    <div class="span3">
					<ul id="mainSideMenu" class="left-menu nav nav-list nav-side">
					    <li class="accordion-group">
					        <div class="accordion-heading"> <a href="#accDash" data-parent="#mainSideMenu" data-toggle="collapse" class="accordion-toggle"> <i class="icon-home icon-white"></i><i class="icon-chevron-right"></i> Home </a> </div>
					        <ul class="accordion-content nav nav-list collapse" id="accDash">
					            <li> <a href="{{ url_for('indexapp') }}"> Dashboard </a> </li>
					        </ul>
					    </li>
					    <li class="accordion-group">
					        <div class="accordion-heading"> <a href="#accForms" data-parent="#mainSideMenu" data-toggle="collapse" class="accordion-toggle"> <i class="icon-th-list icon-white"></i><i class="icon-chevron-right"></i> Configuration </a> </div>
					        <ul class="accordion-content nav nav-list collapse in" id="accForms">
					            <li> <a href="#" class="selected"> Vehicle </a> </li>
					            <li> <a href="#"> Frecuency </a> </li>
					            <li> <a href="#"> Price</a> </li>
					        </ul>
					    </li>
					</ul>
			    </div>
			    <div class="span9">
					<ul class="nav nav-tabs">
					  <li class="active">
						<a href="#">Vehicle</a>
					  </li>
					</ul>
					<div class="tab-content de-content">
						<div class="row row-margin-first">
                            <div class="table-wrapper">
                                <table id="results" class="table boo-table table-content table-hover">
                                    <thead>
                                        <tr>
                                            <th scope="col">ID</th>
                                            <th scope="col">Description</th>
                                            <th scope="col">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    	{% for item in vehicleTypeList.vehicles %}
                                    		<tr>
									        	<td>{{loop.index}}</td>
                                            	<td>{{item.description}}</td>
                                            	<td>
                                            		<a class="btn btn-warning btn-mini no-wrap" href="" title="Edit"><i class="icon-edit icon-white"></i></a>
                                            		&nbsp
                                            		<a href="#myModal{{loop.index}}" role="button" class="btn btn-danger btn-mini no-wrap" data-toggle="modal" title="Remove"><i class="icon-trash icon-white"></i></a>
                                            	</td>
                                            </tr>
                                            <div id="myModal{{loop.index}}" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
												<div class="modal-header">
													<button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
													<h3 id="myModalLabel">Confirmation</h3>
												</div>
												<div class="modal-body">
													<p>Do you want remove this vehicle: {{item.description}} ?</p>
												</div>
												<div class="modal-footer">
													<button class="btn btn-danger" data-dismiss="modal" aria-hidden="true" onclick="javascript:location.href='/app/conf/vehicle/remove/{{item.id}}'">OK</button>
													<button class="btn" data-dismiss="modal" href="">Cancel</button>
												</div>
											</div>
									    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                            <div id="pageNavPosition" class="row">
                            </div>
	                    </div>
						<div class="row row-margin">
							<form method="post" name="vehicle-type_form">
		                        <div class="well well-nice">
			                        <fieldset>
			                        	<legend>Vehicle fields</legend>
                                        <div class="control-group {% if form.description.errors %}error{% endif %}">
									      <div class="controls">
									        <input id="description" class="input-block-level" type="text" name="description" placeholder="description">
									        {%- if form.description.errors %}
										      {%- for error in form.description.errors %}
										        <p class="help-inline">{{error}}</p>
										      {%- endfor %}
										    {%- endif %}
									      </div>
									    </div>
									    <div class="button-bar">
											<button type="submit" class="btn">Clear</button>
											<button type="submit" class="btn btn-success">Save Vehicle</button>
										</div>
			                        </fieldset>
		                    	</div>
							</form>
						</div>
					</div>
			    </div>
		    </div>
		</div>
	</div>
{% endblock %}
{% block script_content %}
    <script type="text/javascript">
	    var pager = new Pager('results', 5); 
	    pager.init(); 
	    pager.showPageNav('pager', 'pageNavPosition'); 
	    pager.showPage(1);
	</script>
	{%- if response == "success" %}
        <script>
	        notyfy({
	    		text: 'Vehicle type was {{"saved" if action == "save" else "removed"}} successfully.',
	    		theme: 'boolight',
	    		type: 'success',
	    		layout: 'bottomRight'
	    	});
        </script>
    {%- endif %}
    {% if response != None and response != "success"%}
        <script>
	        notyfy({
	    		text: '{{response.message}}',
	    		theme: 'boolight',
	    		type: 'error',
	    		layout: 'bottomRight'
	    	});
        </script>
    {%- endif %}
{% endblock %}
